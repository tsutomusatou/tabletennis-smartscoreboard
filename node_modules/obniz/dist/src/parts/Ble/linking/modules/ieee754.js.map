{"version":3,"sources":["../src/parts/Ble/linking/modules/ieee754.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAEH;;;;;;sEAMsE;AACtE,YAAY,CAAC;;AAEb,MAAqB,cAAc;IAC1B,MAAM,CAAC,IAAI,CAAC,CAAS,EAAE,IAAY,EAAE,IAAY,EAAE,IAAY;QACpE,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO;QAChD,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,sBAAsB;QACzD,MAAM,GAAG,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,WAAW;QAC3C,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,WAAW;QACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;YAC7B,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE;gBAChC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aAC9B;SACF;QACD,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE;YAC1B,OAAO,CAAC,CAAC;SACV;aAAM,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,EAAE;YACjC,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,mBAAmB;YACxD,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;YACvD,OAAO,CAAC,CAAC;SACV;aAAM,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC,EAAE;YACrC,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,mBAAmB;YACxD,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/D,OAAO,CAAC,CAAC;SACV;aAAM,IAAI,GAAG,KAAK,GAAG,IAAI,GAAG,KAAK,CAAC,EAAE;YACnC,OAAO,QAAQ,CAAC;SACjB;aAAM;YACL,OAAO,GAAG,CAAC;SACZ;IACH,CAAC;IAED,gBAAe,CAAC;CACjB;AA7BD,iCA6BC","file":"ieee754.js","sourcesContent":["/**\n * @packageDocumentation\n * @module Parts.Linking\n */\n\n/* ------------------------------------------------------------------\n * node-linking - ieee754.js\n *\n * Copyright (c) 2017, Futomi Hatano, All rights reserved.\n * Released under the MIT license\n * Date: 2017-04-13\n * ---------------------------------------------------------------- */\n\"use strict\";\n\nexport default class LinkingIEEE754 {\n  public static read(n: number, slen: number, elen: number, flen: number) {\n    const sgn = slen ? (n >>> 11) & 0b1 : 0; // sign\n    const max = Math.pow(2, elen) - 1; // maximum of exponent\n    const exp = (n >>> flen) & max; // exponent\n    let fra = 0; // fraction\n    for (let i = 0; i < flen; i++) {\n      if ((n >>> (flen - i - 1)) & 0b1) {\n        fra += Math.pow(2, -(i + 1));\n      }\n    }\n    if (exp === 0 && fra === 0) {\n      return 0;\n    } else if (exp === 0 && fra !== 0) {\n      const m = Math.pow(2, elen - 1) - 1; // median (7 or 15)\n      const v = Math.pow(-1, sgn) * fra * Math.pow(2, 1 - m);\n      return v;\n    } else if (exp >= 1 && exp <= max - 1) {\n      const m = Math.pow(2, elen - 1) - 1; // median (7 or 15)\n      const v = Math.pow(-1, sgn) * (1 + fra) * Math.pow(2, exp - m);\n      return v;\n    } else if (exp === max && fra === 0) {\n      return Infinity;\n    } else {\n      return NaN;\n    }\n  }\n\n  constructor() {}\n}\n"]}