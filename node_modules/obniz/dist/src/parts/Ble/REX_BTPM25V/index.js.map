{"version":3,"sources":["../src/parts/Ble/REX_BTPM25V/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\n * @packageDocumentation\n * @module Parts.REX_BTPM25V\n */\n\nimport Obniz from \"../../../obniz\";\nimport BleRemoteCharacteristic from \"../../../obniz/libs/embeds/bleHci/bleRemoteCharacteristic\";\nimport BleRemotePeripheral from \"../../../obniz/libs/embeds/bleHci/bleRemotePeripheral\";\nimport ObnizPartsInterface, { ObnizPartsInfo } from \"../../../obniz/ObnizPartsInterface\";\n\nexport interface REX_BTPM25VOptions {}\n\nexport default class REX_BTPM25V implements ObnizPartsInterface {\n  public static info(): ObnizPartsInfo {\n    return {\n      name: \"REX_BTPM25V\",\n    };\n  }\n\n  public static isDevice(peripheral: BleRemotePeripheral) {\n    if (peripheral.localName !== \"PM25V\") {\n      return false;\n    }\n    return true;\n  }\n\n  public keys: string[] = [];\n  public requiredKeys: string[] = [];\n  public params: any;\n  public onbuttonpressed: ((pressed: boolean) => void) | null = null;\n\n  public _peripheral: BleRemotePeripheral | null = null;\n  public ondisconnect?: (reason: any) => void;\n\n  private _uuids = {\n    service: \"00001523-1212-EFDE-1523-785FEABCD123\",\n    buttonChar: \"000000A1-1212-EFDE-1523-785FEABCD123\",\n    continuousMeasurementChar: \"000000A5-1212-EFDE-1523-785FEABCD123\",\n    oneShotMeasurementChar: \"000000A8-1212-EFDE-1523-785FEABCD123\",\n    ledChar: \"000000A9-1212-EFDE-1523-785FEABCD123\",\n  };\n  private _oneShotMeasurementCharacteristic: BleRemoteCharacteristic | null = null;\n  private _continuousMeasurementCharacteristic: BleRemoteCharacteristic | null = null;\n  private _ledCharacteristic: BleRemoteCharacteristic | null = null;\n  private _buttonCharacteristic: BleRemoteCharacteristic | null = null;\n\n  constructor(peripheral: BleRemotePeripheral | null) {\n    if (peripheral && !REX_BTPM25V.isDevice(peripheral)) {\n      throw new Error(\"peripheral is not RS_Seek3\");\n    }\n    this._peripheral = peripheral;\n  }\n\n  // @ts-ignore\n  public wired(obniz: Obniz): void {}\n\n  public async connectWait() {\n    if (!this._peripheral) {\n      throw new Error(\"RS_Seek3 is not find.\");\n    }\n    this._peripheral.ondisconnect = (reason: any) => {\n      if (typeof this.ondisconnect === \"function\") {\n        this.ondisconnect(reason);\n      }\n    };\n    await this._peripheral.connectWait();\n    this._oneShotMeasurementCharacteristic = this._peripheral\n      .getService(this._uuids.service)!\n      .getCharacteristic(this._uuids.oneShotMeasurementChar);\n    this._continuousMeasurementCharacteristic = this._peripheral\n      .getService(this._uuids.service)!\n      .getCharacteristic(this._uuids.continuousMeasurementChar);\n    this._ledCharacteristic = this._peripheral.getService(this._uuids.service)!.getCharacteristic(this._uuids.ledChar);\n    this._buttonCharacteristic = this._peripheral\n      .getService(this._uuids.service)!\n      .getCharacteristic(this._uuids.buttonChar);\n\n    if (this._buttonCharacteristic) {\n      this._buttonCharacteristic.registerNotify((data: number[]) => {\n        if (typeof this.onbuttonpressed === \"function\") {\n          this.onbuttonpressed(data[0] === 1);\n        }\n      });\n    }\n  }\n\n  public async disconnectWait() {\n    await this._peripheral?.disconnectWait();\n  }\n\n  public async measureOneShotWait() {\n    if (!this._oneShotMeasurementCharacteristic) {\n      throw new Error(\"device is not connected\");\n    }\n    const sendData = new Array(20);\n    sendData[0] = 0x01;\n    const data = await this._sendAndReceiveWait(this._oneShotMeasurementCharacteristic, sendData);\n    return this._analyzeResult(data);\n  }\n\n  public async measureOneShotExtWait() {\n    if (!this._oneShotMeasurementCharacteristic) {\n      throw new Error(\"device is not connected\");\n    }\n    const sendData = new Array(20);\n    sendData[0] = 0x10;\n    const data = await this._sendAndReceiveWait(this._oneShotMeasurementCharacteristic, sendData);\n    return this._analyzeResultExt(data);\n  }\n\n  public async getLedMode() {\n    if (!this._ledCharacteristic) {\n      throw new Error(\"device is not connected\");\n    }\n    const data = this._sendAndReceiveWait(this._ledCharacteristic, [0xff, 0x00]);\n  }\n\n  private _sendAndReceiveWait(char: BleRemoteCharacteristic, data: number[]): Promise<number[]> {\n    return new Promise((resolve) => {\n      char.registerNotify(resolve);\n      char.write(data);\n    });\n  }\n\n  private _analyzeResult(data: number[]) {\n    const buf = Buffer.from(data);\n    const [minutes, hour, day, month, year] = buf.slice(0, 5);\n    const pm2_5 = buf.readInt16LE(5);\n    const pm10 = buf.readInt16LE(7);\n    const barometricPressure = buf.readInt16LE(9);\n    const temperature = buf.readInt8(11);\n    const humidity = buf.readInt8(12);\n    const lux = buf.readUInt16LE(13);\n    const dummy = buf.slice(15, 19);\n    const mode = buf.readInt8(19);\n\n    return {\n      // minutes,\n      // hour,\n      // day,\n      // month,\n      // year,\n      pm2_5,\n      pm10,\n      barometricPressure,\n      temperature,\n      humidity,\n      lux,\n      mode,\n    };\n  }\n\n  private _bitValue(buffer: Buffer, location: { start: number; end: number }): number {\n    const startLoc = { byte: Math.floor(location.start / 8), bit: location.start % 8 };\n    const endLoc = { byte: Math.floor(location.end / 8), bit: location.end % 8 };\n\n    let result = 0;\n    result = buffer.readUInt8(endLoc.byte) & (~(0xff << (endLoc.bit + 1)) & 0xff);\n    if (startLoc.byte === endLoc.byte) {\n      return result >> startLoc.bit;\n    }\n    for (let byte = endLoc.byte - 1; byte > startLoc.byte; byte--) {\n      result = result << (8 + buffer.readInt8(byte));\n    }\n    result = (result << (8 - startLoc.bit)) + (buffer.readUInt8(startLoc.byte) >> startLoc.bit);\n    return result;\n  }\n\n  private _analyzeResultExt(data: number[]) {\n    const buf = Buffer.from(data);\n    const buf1 = buf.slice(0, 4);\n    const minutes = this._bitValue(buf1, { start: 5, end: 10 });\n    const hour = this._bitValue(buf1, { start: 11, end: 15 });\n    const day = this._bitValue(buf1, { start: 16, end: 20 });\n    const month = this._bitValue(buf1, { start: 21, end: 24 });\n    const year = this._bitValue(buf1, { start: 25, end: 31 });\n\n    const buf2 = buf.slice(4, 8);\n    const pm2_5 = this._bitValue(buf2, { start: 0, end: 9 });\n    const pm10 = this._bitValue(buf2, { start: 10, end: 19 });\n    const uv = this._bitValue(buf2, { start: 20, end: 23 });\n\n    const buf3 = buf.slice(8, 12);\n    const temperature = this._bitValue(buf3, { start: 0, end: 10 }) / 10 - 40;\n    const humidity = this._bitValue(buf3, { start: 11, end: 20 }) / 10;\n\n    const buf4 = buf.slice(12, 16);\n    const barometricPressure = this._bitValue(buf4, { start: 0, end: 13 }) / 10;\n    const vocState_init = this._bitValue(buf4, { start: 14, end: 14 });\n    const vocState_wakeup = this._bitValue(buf4, { start: 15, end: 15 });\n    const lux = this._bitValue(buf4, { start: 16, end: 31 });\n\n    const buf5 = buf.slice(16, 20);\n    const tvoc = this._bitValue(buf5, { start: 0, end: 10 });\n    const eco2 = this._bitValue(buf5, { start: 11, end: 23 });\n    const mode = this._bitValue(buf5, { start: 24, end: 31 });\n\n    return {\n      // minutes,\n      // hour,\n      // day,\n      // month,\n      // year,\n      pm2_5,\n      pm10,\n      barometricPressure,\n      temperature,\n      humidity,\n      lux,\n      // mode,\n      tvoc,\n      eco2,\n      uv,\n      // vocState_init,\n      // vocState_wakeup,\n    };\n  }\n}\n"]}