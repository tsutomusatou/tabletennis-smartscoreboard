{"version":3,"sources":["../src/obniz/ObnizError.ts"],"names":[],"mappings":"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","file":"ObnizError.js","sourcesContent":["/**\n * @packageDocumentation\n * @module ObnizCore.Errors\n */\n\n// tslint:disable:max-classes-per-file\n\nimport { deprecate } from \"util\";\n\nexport class ObnizError extends Error {\n  constructor(public code: number, e?: string) {\n    super(e);\n    this.name = new.target.name;\n    Object.setPrototypeOf(this, new.target.prototype); // for ES3, ES5\n  }\n}\n\nexport class ObnizOfflineError extends ObnizError {\n  constructor() {\n    super(1, \"obniz is not online.\");\n  }\n}\n\nexport class ObnizTimeoutError extends ObnizError {\n  constructor(public waitingFor?: string) {\n    super(2, \"Receive data timeout.\" + (waitingFor ? \" Waiting for \" + waitingFor : \"\"));\n  }\n}\n\nexport class ObnizI2cError extends ObnizError {\n  constructor() {\n    super(3, \"I2C error.\");\n  }\n}\n\nexport class ObnizI2cWarning extends ObnizError {\n  constructor() {\n    super(4, \"I2C error.\");\n  }\n}\n\nexport class ObnizBleUnknownPeripheralError extends ObnizError {\n  constructor(public peripheralUuid: string) {\n    super(5, \"unknown peripheral :\" + peripheralUuid);\n  }\n}\n\nexport class ObnizBleUnknownServiceError extends ObnizError {\n  constructor(public peripheralUuid: string, public serviceUuid: string) {\n    super(6, \"unknown service.  peripheral :\" + peripheralUuid + \" service :\" + serviceUuid);\n  }\n}\n\nexport class ObnizBleUnknownCharacteristicError extends ObnizError {\n  constructor(public peripheralUuid: string, public serviceUuid: string, public characteristicUuid: string) {\n    super(\n      7,\n      \"unknown characteristic.  peripheral :\" +\n        peripheralUuid +\n        \" service :\" +\n        serviceUuid +\n        \" characteristic :\" +\n        characteristicUuid,\n    );\n  }\n}\n\nexport class ObnizBleUnknownDescriptorError extends ObnizError {\n  constructor(\n    public peripheralUuid: string,\n    public serviceUuid: string,\n    public characteristicUuid: string,\n    public descriptorUuid: string,\n  ) {\n    super(\n      8,\n      \"unknown descriptor.  peripheral :\" +\n        peripheralUuid +\n        \" service :\" +\n        serviceUuid +\n        \" characteristic :\" +\n        characteristicUuid +\n        \" descriptor :\" +\n        descriptorUuid,\n    );\n  }\n}\n\nexport class ObnizBleOpError extends ObnizError {\n  constructor() {\n    super(9, \"BLE operation error\");\n  }\n}\n\nexport class ObnizBleHciStateError extends ObnizError {\n  public static Errors: { [key: number]: string } = {\n    0x00: \"Success\",\n    0x01: \"Unknown HCI Command\",\n    0x02: \"Unknown Connection Identifier \",\n    0x03: \"Hardware Failure \",\n    0x04: \"Page Timeout \",\n    0x05: \"Authentication Failure \",\n    0x06: \"PIN or Key Missing \",\n    0x07: \"Memory Capacity Exceeded \",\n    0x08: \"Connection Timeout \",\n    0x09: \"Connection Limit Exceeded \",\n    0x0a: \"Synchronous Connection Limit To A Device Exceeded \",\n    0x0b: \"Connection Already Exists \",\n    0x0c: \"Command Disallowed \",\n    0x0d: \"Connection Rejected due to Limited Resources \",\n    0x0e: \"Connection Rejected Due To Security Reasons \",\n    0x0f: \"Connection Rejected due to Unacceptable BD_ADDR \",\n    0x10: \"Connection Accept Timeout Exceeded \",\n    0x11: \"Unsupported Feature or Parameter Value \",\n    0x12: \"Invalid HCI Command Parameters \",\n    0x13: \"Remote User Terminated Connection \",\n    0x14: \"Remote Device Terminated Connection due to Low Resources \",\n    0x15: \"Remote Device Terminated Connection due to Power Off \",\n    0x16: \"Connection Terminated By Local Host \",\n    0x17: \"Repeated Attempts \",\n    0x18: \"Pairing Not Allowed \",\n    0x19: \"Unknown LMP PDU \",\n    0x1a: \"Unsupported Remote Feature / Unsupported LMP Feature \",\n    0x1b: \"SCO Offset Rejected \",\n    0x1c: \"SCO Interval Rejected \",\n    0x1d: \"SCO Air Mode Rejected \",\n    0x1e: \"Invalid LMP Parameters / Invalid LL Parameters \",\n    0x1f: \"Unspecified Error \",\n    0x20: \"Unsupported LMP Parameter Value / Unsupported LL Parameter Value \",\n    0x21: \"Role Change Not Allowed \",\n    0x22: \"LMP Response Timeout / LL Response Timeout \",\n    0x23: \"LMP Error Transaction Collision / LL Procedure Collision \",\n    0x24: \"LMP PDU Not Allowed \",\n    0x25: \"Encryption Mode Not Acceptable \",\n    0x26: \"Link Key cannot be Changed \",\n    0x27: \"Requested QoS Not Supported \",\n    0x28: \"Instant Passed \",\n    0x29: \"Pairing With Unit Key Not Supported \",\n    0x2a: \"Different Transaction Collision \",\n    0x2b: \"Reserved for future use \",\n    0x2c: \"QoS Unacceptable Parameter \",\n    0x2d: \"QoS Rejected \",\n    0x2e: \"Channel Classification Not Supported \",\n    0x2f: \"Insufficient Security \",\n    0x30: \"Parameter Out Of Mandatory Range \",\n    0x31: \"Reserved for future use \",\n    0x32: \"Role Switch Pending \",\n    0x33: \"Reserved for future use \",\n    0x34: \"Reserved Slot Violation \",\n    0x35: \"Role Switch Failed \",\n    0x36: \"Extended Inquiry Response Too Large \",\n    0x37: \"Secure Simple Pairing Not Supported By Host \",\n    0x38: \"Host Busy - Pairing \",\n    0x39: \"Connection Rejected due to No Suitable Channel Found \",\n    0x3a: \"Controller Busy \",\n    0x3b: \"Unacceptable Connection Parameters \",\n    0x3c: \"Advertising Timeout \",\n    0x3d: \"Connection Terminated due to MIC Failure \",\n    0x3e: \"Connection Failed to be Established / Synchronization Timeout \",\n    0x3f: \"MAC Connection Failed \",\n    0x40: \"Coarse Clock Adjustment Rejected but Will Try to Adjust Using Clock Dragging \",\n    0x41: \"Type0 Submap Not Defined \",\n    0x42: \"Unknown Advertising Identifier \",\n    0x43: \"Limit Reached \",\n    0x44: \"Operation Cancelled by Host \",\n    0x45: \"Packet Too Long \",\n  };\n\n  constructor(public state: number, params?: any) {\n    super(\n      10,\n      (ObnizBleHciStateError.Errors[state] ? ObnizBleHciStateError.Errors[state] : \"Ble Hci state Error\") +\n        (params ? ` ${JSON.stringify(params)}` : \"\"),\n    );\n  }\n}\n\n// todo error code to message\nexport class ObnizBleAttError extends ObnizError {\n  public static Errors: { [key: number]: string } = {};\n\n  constructor(public state: number, params?: any) {\n    super(11, `ATT Error: ${params}`);\n  }\n}\n\nexport class ObnizDeprecatedFunctionError extends ObnizError {\n  constructor(public deprecateFunctionName: string, replaceFunction: string) {\n    super(12, `${deprecateFunctionName} is deprecated function, please use ${replaceFunction}`);\n  }\n}\n\nexport class ObnizBleUnsupportedHciError extends ObnizError {\n  constructor(public needVer: number, public currentVer: number) {\n    super(13, `Unsupported hci version, need version : ${needVer}, current version ${currentVer}`);\n  }\n}\n\nexport class ObnizParameterError extends ObnizError {\n  constructor(public parameter: string, public should: string) {\n    super(14, `Parameter ${parameter} should satisfy ${should}`);\n  }\n}\n\nexport class ObnizBleUnSupportedOSVersionError extends ObnizError {\n  constructor(public deviceOS: string, public atLeast: string) {\n    super(\n      15,\n      `Connected Device has OS=${deviceOS}. But This SDK Support at least ${atLeast} or above. Upgrade Your OS or Downgrade your SDK to use this function`,\n    );\n  }\n}\n\nexport class ObnizBlePairingRejectByRemoteError extends ObnizError {\n  public static Errors: { [key: number]: string } = {\n    0x00: \"Unknown\",\n    0x01: \"Passkey Entry Failed\",\n    0x02: \"OOB Not Available\",\n    0x03: \"Authentication Requirements\",\n    0x04: \"Confirm Value Failed\",\n    0x05: \"Pairing Not Supported\",\n    0x06: \"Encryption Key Size\",\n    0x07: \"Command Not Supported\",\n    0x08: \"Unspecified Reason\",\n    0x09: \"Repeated Attempts\",\n    0x0a: \"Invalid Parameters\",\n    0x0b: \"DHKey Check Failed\",\n    0x0c: \"Numeric Comparison Failed\",\n    0x0d: \"BR/EDR pairing in progress\",\n    0x0e: \"Cross-transport Key Deriva- tion/Generation not allowed\",\n  };\n\n  constructor(reason: number) {\n    super(\n      16,\n      `pairing sequence reject by remote peripheral. reason : ${ObnizBlePairingRejectByRemoteError.Errors[reason]}`,\n    );\n  }\n}\n"]}