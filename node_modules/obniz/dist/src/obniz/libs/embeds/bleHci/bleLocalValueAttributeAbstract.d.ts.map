{"version":3,"sources":["../src/obniz/libs/embeds/bleHci/bleLocalValueAttributeAbstract.ts"],"names":[],"mappings":"AAMA,OAAO,yBAAyB,MAAM,6BAA6B,CAAC;AAGpE;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,8BAA8B,CAAC,WAAW,EAAE,aAAa,CAAE,SAAQ,yBAAyB,CAC/G,WAAW,EACX,aAAa,CACd;gBACa,MAAM,EAAE,GAAG;IAIvB;;;;;;;;;;;OAWG;IACU,SAAS,CAAC,IAAI,EAAE,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC;IAMnD;;;;;;;;;;;OAWG;IACU,QAAQ,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;IAK1C;;;;OAIG;IACI,gBAAgB,CAAC,UAAU,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG;CAcrD","file":"bleLocalValueAttributeAbstract.d.ts","sourcesContent":["/**\n * @packageDocumentation\n * @module ObnizCore.Components.Ble.Hci\n */\nimport BleCharacteristic from \"./bleCharacteristic\";\nimport BleHelper from \"./bleHelper\";\nimport BleLocalAttributeAbstract from \"./bleLocalAttributeAbstract\";\nimport BleService from \"./bleService\";\n\n/**\n * @category Use as Peripheral\n */\nexport default class BleLocalValueAttributeAbstract<ParentClass, ChildrenClass> extends BleLocalAttributeAbstract<\n  ParentClass,\n  ChildrenClass\n> {\n  constructor(params: any) {\n    super(params);\n  }\n\n  /**\n   * This writes dataArray.\n   * It throws an error when failed.\n   *\n   * ```javascript\n   * // Javascript Example\n   * await attr.writeWait([0xf0,0x27]);\n   * console.log(\"write success\");\n   * ```\n   *\n   * @param data\n   */\n  public async writeWait(data: any): Promise<boolean> {\n    this.data = data;\n    this.notifyFromServer(\"onwrite\", { result: \"success\" });\n    return true;\n  }\n\n  /**\n   * It reads data.\n   *\n   * Even you wrote string or number, it returns binary array.\n   * It throws an error when failed.\n   *\n   * ```javascript\n   * // Javascript Example\n   * let data =  await attr.readWait()\n   *  console.log(\"data: \" , data );\n   * ```\n   */\n  public async readWait(): Promise<number[]> {\n    this.notifyFromServer(\"onread\", { data: this.data });\n    return this.data;\n  }\n\n  /**\n   * @ignore\n   * @param notifyName\n   * @param params\n   */\n  public notifyFromServer(notifyName: any, params: any) {\n    super.notifyFromServer(notifyName, params);\n    this.emitter.emit(notifyName, params);\n    switch (notifyName) {\n      case \"onwritefromremote\": {\n        this._runUserCreatedFunction(this.onwritefromremote, params.address, params.data);\n        break;\n      }\n      case \"onreadfromremote\": {\n        this._runUserCreatedFunction(this.onreadfromremote, params.address);\n        break;\n      }\n    }\n  }\n}\n"]}